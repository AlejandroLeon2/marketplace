---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Categoria from "../components/secciones/Categoria.astro";
import MasVendidos from "../components/MasVendidos.astro";
import librosData from "../data/libros.json";
import seccionesData from "../data/idiomas/es.json";
import type { Libro } from "../types/libro";
interface PaginaInicio {
  inicio: { secciones: string[]; footer: string[] };
}

function obtenerDatos(): {
  libros: Libro[];
  configuracion: PaginaInicio;
} {
  return { libros: librosData, configuracion: seccionesData };
}

const secciones = obtenerDatos();
---

<Layout titulo="home" descripcion="tienda de libros">
  <Header />
  <main
    class="flex flex-col min-h-screen mx-auto w-full max-w-6xl justify-center items-center"
  >
    {
      secciones.configuracion.inicio.secciones.map((data) => (
        <Categoria libros={secciones.libros} tituloSeccion={data} />
      ))
    }
    <section class="w-[30%] h-[70%] flex justify-center items-center">
      <MasVendidos />
    </section>
  </main>
  <Footer />
</Layout>
